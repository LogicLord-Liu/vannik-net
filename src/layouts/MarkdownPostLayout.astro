---
import "../styles/markdown.scss";

const {
  frontmatter: { title, date, author = "佚名", cover, tags = [], readingTime },
} = Astro.props;
---

<article class="post-container">
  {cover && <img src={cover} alt={title} class="cover" />}

  <header class="post-header">
    <h1 class="post-title">{title}</h1>
    <div class="post-meta">
      <time>{new Date(date).toLocaleDateString()}</time>
      <span>·</span>
      <span>{author}</span>
      {
        readingTime && (
          <>
            <span>·</span>
            <span>{readingTime}</span>
          </>
        )
      }
    </div>
    {
      tags.length > 0 && (
        <div class="post-tags">
          {tags.map((tag) => (
            <span class="tag" key={tag}>
              #{tag}
            </span>
          ))}
        </div>
      )
    }
  </header>

  <section class="markdown-content">
    <slot />
  </section>
</article>
